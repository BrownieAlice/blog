---
title: "サーバーを構築した"
date: 2017-11-10T09:05:53+09:00
categories:
 - "diary"
tags:
 - "server"
thumbnail: "https.png"
---
## VPSを借りた
今までBlogとwikiはGitHub Pagesを用いて公開していましたが, VPSを借りたのでそっちに移行しました. サーバー借りればいろんなことができるんだよなぁと思って, 前々から借りようは考えていたのですが中々借りにいくまでに至っていませんでした. ただ授業の関係でRedmineを建てるとよさそうなことがあったので, これもタイミングだと思いVPSを借りました.  
借りたのはお名前ドットコムの2GBのVPSです.

## 初期セットアップ
最近Dockerが流行っているので, Dockerベースで色々と構築していこうと考えました. Dockerで動かすなら別にCentOSのような従来サーバーで用いられてきたOSじゃなくてCoreOSでいいのかなと思い, CoreOSをインストールしました.  
CoreOSの日本語情報は少ないわけではないんですが, 歴史が短いため日本語情報が豊富ってこともありませんでした. まぁ公式のリファレンスを見ろって話ではあるんですけどね….  
まぁなんだかんだいろいろ調べながらやったらインストール完了して公開鍵認証でのssh接続も上手く言ったので良かったです.

## アプリケーションの実行
ここではひとまず元々の理由であるRedmineとそのデータ用にMySQL, git server(とは言っても標準のサーバーなら何もバックエンドで動かす必要がない), それとSSL認証とBlog/wikiの静的HP公開用にnginxを動かしています. 正直Dockerが便利すぎて大した知識もないのに上手く動いていてすごいなーって感じです. ただ適切な設定とかあるでしょうし, 保守を考えるときちんと知識がないといけないので勉強しないとなぁという感じです.  
あと, 色々と立ち上げて気づいたのですがメモリ2GBは結構少ないです. RedmineとMySQLで1GB弱は平気で使うのでやばいなーと思ってます. これからMastdoonサーバーとかMinecraftサーバーとかtwitter botとか動かしてみたいなと考えているのですがこのメモリだと力不足感が否めないので4GBに移行しようかとも考えています. でも4GBに移行すると年3万超かかっちゃうんですよね….  

## これから
なんだかんだで研究室や部活の事もあり結構忙しいのでそこまでサーバーいじれる時間が取れないのかなぁという感じです. ただサーバーいじったのは初めてですけど結構楽しい(Dockerが素晴らしいからな気もする)のでちまちま時間作って遊んでみたいです.  
あとなんとなくでお名前ドットコムでVPSを借りたのですがConoHaとかAWS EC2とかももう少し検討してみればよかったですね….
